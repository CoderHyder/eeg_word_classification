---
import Layout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero";
import WhyChooseUs from "../components/WhyChooseUs";
import CTASection from "../components/CTASection";
import Footer from "../components/footer";
import ScrollGauge from "../components/ScrollGauge";
---

<Layout title="GC International">
  <div id="scroll-container" class="h-screen overflow-y-scroll snap-y snap-mandatory scroll-smooth">
    <section class="snap-start snap-always h-screen flex items-center opacity-0 transition-opacity duration-700 fade-section">
      <Hero client:load />
    </section>

    <section class="snap-start h-screen flex items-center opacity-0 transition-opacity duration-700 fade-section">
      <WhyChooseUs client:load />
    </section>

    <section class="snap-start h-screen flex items-center opacity-0 transition-opacity duration-700 fade-section">
      <CTASection client:load />
    </section>

    <ScrollGauge client:load />
  </div>

  <script type="module">
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('opacity-100');
        }
      });
    }, { threshold: 0.3 });

    document.querySelectorAll('.fade-section').forEach(section => {
      observer.observe(section);
    });
  </script>

  <style>
    .fade-section {
      opacity: 0;
    }
    .fade-section.opacity-100 {
      opacity: 1;
    }
  </style>
</Layout>
